<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel & Kelly's Extraordinary Universe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3CradialGradient id='g' cx='50%25' cy='50%25' r='60%25'%3E%3Cstop offset='0%25' stop-color='%2300E6FF'/%3E%3Cstop offset='100%25' stop-color='%230B1D3A'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='32' cy='32' r='30' fill='url(%23g)'/%3E%3Cpath d='M14 34c10-2 26-2 36 0M22 22l-4-6m6 4l-6 4M46 46l6 4m-4-6l4-6' stroke='%23FFFFFF' stroke-width='2' stroke-linecap='round' fill='none' opacity='.7'/%3E%3C/svg%3E">
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{color:#fff;background:radial-gradient(1200px 800px at 70% -10%, rgba(122,79,255,.25), transparent 60%),linear-gradient(180deg, #0B1D3A 0%, #0A1830 100%);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
        .site-header{max-width:72rem;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:24px}
        .brand{font-weight:700;letter-spacing:.2px;color:#BBD7FF;text-decoration:none}
        .nav a{color:#CFE6FF;text-decoration:none;margin-left:16px;opacity:.9}
        .nav a:hover{opacity:1;color:#00E6FF}
        .hero{max-width:72rem;margin:0 auto;padding:2vh 24px 8vh;text-align:center}
        .eyebrow{color:#00E6FF;letter-spacing:.12em;text-transform:uppercase;margin:0 0 0px}
        .hero h1{font-weight:800;font-size:clamp(32px,6vw,72px);line-height:1.1;margin:0 auto;max-width:16ch}
        .subhead{color:#E2E8F0;font-size:clamp(16px,2vw,22px);line-height:1.5;margin:32px auto 0;max-width:48rem}
        .cta-row{display:flex;gap:16px;justify-content:center;margin-top:40px}
        .btn{display:inline-block;padding:14px 20px;border-radius:12px;font-weight:700;text-decoration:none}
        .btn-primary{background:linear-gradient(90deg,#00E6FF,#7A4FFF);color:#071422}
        .btn-secondary{border:1px solid rgba(255,255,255,.25);color:#fff}
        .hero-search{margin:24px auto 0;display:flex;gap:8px;justify-content:center;max-width:700px}
        .hero-search input{flex:1;padding:20px 20px;border-radius:12px;border:1px solid rgba(255,255,255,.25);background:rgba(6,18,38,.6);color:#fff;font-size:18px}
        .hero-search input:focus{border-color:#00E6FF;box-shadow:0 0 0 3px rgba(0,230,255,.25)}
        .hero-search button{padding:20px 24px;border-radius:12px;border:0;background:#00E6FF;color:#051324;font-weight:700;font-size:18px;transition:all 0.3s ease;cursor:pointer;animation:pulse-glow 3s ease-in-out infinite}
        .hero-search button:hover{background:#00D4E6;transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,230,255,0.4)}
        .hero-search button:active{transform:translateY(0);box-shadow:0 4px 15px rgba(0,230,255,0.3)}
        .explore{max-width:72rem;margin:0 auto;padding:0px 24px}
        .explore h2{font-size:0.75em;display:none}
        .topic-chips{display:grid;grid-template-columns:repeat(8,1fr);gap:10px;justify-content:center;list-style:none;padding:0;margin:0;max-width:800px;margin:0 auto}
        .topic-chips a{display:flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.2);color:#E5EEF9;text-decoration:none;font-size:12px;cursor:pointer;min-height:32px;text-align:center}
        .search-results{max-width:72rem;margin:0 auto;padding:32px 24px}
        .results-container h3{color:#00E6FF;margin-bottom:24px;font-size:24px}
        .results{margin-top:16px}
        .result{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:20px;margin-bottom:16px}
        .result-title{font-size:18px;font-weight:600;margin-bottom:8px;color:#00E6FF}
        .result-title a{color:inherit;text-decoration:none}
        .result-title a:hover{text-decoration:underline}
        .result-meta{color:#94A3B8;font-size:14px;margin-bottom:12px}
        .result-snippet{color:#E2E8F0;line-height:1.6}
        .result-score{color:#10B981;font-size:12px;font-weight:500;margin-top:8px}
        .no-results{text-align:center;color:#94A3B8;padding:40px}
        .site-footer{max-width:72rem;margin:0 auto;padding:32px 24px;border-top:1px solid rgba(255,255,255,.08);display:flex;justify-content:space-between;color:#cbd5e1}
        @media (max-width:700px){.nav{display:none}.cta-row{flex-direction:column}.topic-chips{grid-template-columns:repeat(4,1fr)}}
        @media (max-width:500px){.topic-chips{grid-template-columns:repeat(2,1fr)}}
        
        /* Animations */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(0,230,255,0.4); }
            50% { box-shadow: 0 0 0 8px rgba(0,230,255,0.1); }
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Animation classes */
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
        }
        
        .animate-fade-in {
            animation: fadeIn 1s ease-out forwards;
            opacity: 0;
        }
        
        .animate-slide-in-left {
            animation: slideInFromLeft 0.6s ease-out forwards;
            opacity: 0;
        }
        
        .animate-delay-1 { animation-delay: 0.2s; }
        .animate-delay-2 { animation-delay: 0.4s; }
        .animate-delay-3 { animation-delay: 0.6s; }
        .animate-delay-4 { animation-delay: 0.8s; }
        
        /* Hover animations */
        .nav a:hover{transform:translateY(-1px)}
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(96,165,250,.3);
        }
        
        .hero-search input:focus {
            transform: scale(1.02);
            box-shadow: 0 0 20px rgba(96,165,250,.2);
        }
        
        .topic-chips a:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(96,165,250,.2);
        }
        
        /* Smooth transitions */
        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>
<body>
    <header class="site-header animate-slide-in-left">
        <a class="brand" href="/">Extraordinary Universe</a>
        <nav class="nav">
        </nav>
    </header>

    <section class="hero">
        <p class="eyebrow animate-fade-in-up animate-delay-1">DANIEL & KELLY'S EXTRAORDINARY UNIVERSE</p>
        <h1 class="animate-fade-in-up animate-delay-2">Search the Universe<br/>Daniel & Kelly style</h1>
        <p class="subhead animate-fade-in-up animate-delay-3">Find any episode fast. From black holes to white chocolate rants.<br>It's all here—without the chaos of scrolling forever.</p>
        <form class="hero-search animate-fade-in-up animate-delay-4" id="searchForm">
            <input name="q" id="searchInput" placeholder="Try 'relativity', 'time dilation', 'black holes'…"/>
            <button type="submit">Search the Universe</button>
        </form>
    </section>

    <section class="explore animate-fade-in-up">
        <ul class="topic-chips">
            <li><a href="/search?q=relativity" class="animate-fade-in-up animate-delay-1">relativity</a></li>
            <li><a href="/search?q=quantum%20mechanics" class="animate-fade-in-up animate-delay-2">quantum mechanics</a></li>
            <li><a href="/search?q=time%20dilation" class="animate-fade-in-up animate-delay-3">time dilation</a></li>
            <li><a href="/search?q=consciousness" class="animate-fade-in-up animate-delay-4">consciousness</a></li>
            <li><a href="/search?q=black%20holes" class="animate-fade-in-up animate-delay-4">black holes</a></li>
            <li><a href="/search?q=multiverse" class="animate-fade-in-up animate-delay-4">multiverse</a></li>
            <li><a href="/search?q=dark%20matter" class="animate-fade-in-up animate-delay-5">dark matter</a></li>
            <li><a href="/search?q=entropy" class="animate-fade-in-up animate-delay-5">entropy</a></li>
            <li><a href="/search?q=spacetime" class="animate-fade-in-up animate-delay-5">spacetime</a></li>
            <li><a href="/search?q=gravity" class="animate-fade-in-up animate-delay-5">gravity</a></li>
            <li><a href="/search?q=energy" class="animate-fade-in-up animate-delay-5">energy</a></li>
            <li><a href="/search?q=dimensions" class="animate-fade-in-up animate-delay-5">dimensions</a></li>
            <li><a href="/search?q=evolution" class="animate-fade-in-up animate-delay-5">evolution</a></li>
            <li><a href="/search?q=intelligence" class="animate-fade-in-up animate-delay-5">intelligence</a></li>
            <li><a href="/search?q=information" class="animate-fade-in-up animate-delay-5">information</a></li>
            <li><a href="/search?q=chocolate" class="animate-fade-in-up animate-delay-5">chocolate</a></li>
        </ul>
    </section>

    <section class="search-results" id="searchResults" style="display: none;">
        <div class="results-container">
            <h3>Search Results</h3>
            <div id="results" class="results">
                <!-- Results will be populated here -->
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <nav></nav>
    </footer>

    <script>
        const searchForm = document.getElementById('searchForm');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const resultsDiv = document.getElementById('results');

        // Handle form submission
        searchForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const query = searchInput.value.trim();
            if (query) {
                await performSearch(query);
            }
        });

        // Handle topic chip clicks
        document.querySelectorAll('.topic-chips a').forEach(link => {
            link.addEventListener('click', async (e) => {
                e.preventDefault();
                const query = link.textContent.trim();
                searchInput.value = query;
                await performSearch(query);
            });
        });

        async function performSearch(query) {
            try {
                // Show loading state
                resultsDiv.innerHTML = '<div class="no-results">Searching...</div>';
                searchResults.style.display = 'block';
                
                // Scroll to results
                searchResults.scrollIntoView({ behavior: 'smooth' });

                // Make API call
                const response = await fetch('/api/search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query, top_k: 10 })
                });

                const data = await response.json();
                displayResults(data);
            } catch (error) {
                console.error('Search error:', error);
                resultsDiv.innerHTML = '<div class="no-results">Search failed. Please try again.</div>';
            }
        }

        function displayResults(data) {
            if (!data.results || data.results.length === 0) {
                resultsDiv.innerHTML = '<div class="no-results">No episodes found. Try different keywords.</div>';
                return;
            }

            resultsDiv.innerHTML = '';
            data.results.forEach(result => {
                const container = document.createElement('div');
                container.className = 'result';

                const h3 = document.createElement('h3');
                h3.className = 'result-title';
                const a = document.createElement('a');
                a.href = result.link;
                a.target = '_blank';
                a.rel = 'noopener noreferrer';
                a.textContent = result.title || 'Untitled';
                h3.appendChild(a);

                const meta = document.createElement('div');
                meta.className = 'result-meta';
                try {
                    meta.textContent = result.pub_date ? new Date(result.pub_date).toLocaleDateString() : 'Unknown date';
                } catch (e) {
                    meta.textContent = 'Unknown date';
                }

                const snippet = document.createElement('div');
                snippet.className = 'result-snippet';
                snippet.textContent = result.snippet || '';

                const score = document.createElement('div');
                score.className = 'result-score';
                const s = (Number(result.score) || 0) * 100;
                score.textContent = `Score: ${s.toFixed(1)}%`;

                container.appendChild(h3);
                container.appendChild(meta);
                container.appendChild(snippet);
                container.appendChild(score);
                resultsDiv.appendChild(container);
            });
        }
    </script>
</body>
</html>